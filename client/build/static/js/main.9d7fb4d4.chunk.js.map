{"version":3,"sources":["actions/types.js","actions/index.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["FETCH_USER","fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","React","Component","connect","actions","Header","console","log","this","auth","href","style","margin","credits","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","path","exact","component","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector"],"mappings":"yWAAaA,EAAW,aCGXC,EAAW,yDAAM,WAAMC,GAAN,eAAAC,EAAA,sEACVC,IAAMC,IAAI,qBADA,OACpBC,EADoB,OAG1BJ,EAAS,CAACK,KAAKP,EAAYQ,QAAQF,EAAIG,OAHb,2CAAN,uDAMXC,EAAY,SAAAC,GAAK,8CAAE,WAAMT,GAAN,eAAAC,EAAA,sEACZC,IAAMQ,KAAK,cAAeD,GADd,OACtBL,EADsB,OAG5BJ,EAAS,CAACK,KAAKP,EAAYQ,QAAQF,EAAIG,OAHX,2CAAF,uD,wBCJxBI,E,4JACF,WAAS,IAAD,OACJ,OACI,cAAC,IAAD,CACIC,KAAK,WACLC,YAAY,yBACZC,OAAQ,IACRL,MAAO,SAAAA,GAAK,OAAE,EAAKM,MAAMP,YAAYC,IACrCO,UAAWC,8GALf,SAOI,wBAAQC,UAAU,MAAlB,+B,GAVOC,IAAMC,WAkBdC,cAAQ,KAAKC,EAAbD,CAAsBV,GClB/BY,E,mKACF,WAEI,OADAC,QAAQC,IAAIC,KAAKX,OACVW,KAAKX,MAAMY,MACd,KAAK,KACD,OACJ,KAAK,EACD,OACI,6BACI,mBAAGC,KAAK,eAAR,iCAGZ,QACI,MAAO,CACP,6BAAY,cAAC,EAAD,KAAJ,KACR,qBAAYC,MAAO,CAACC,OAAQ,UAA5B,sBAAiDJ,KAAKX,MAAMY,KAAKI,UAAzD,KACR,6BAAY,mBAAGH,KAAK,cAAR,qBAAJ,S,oBAKpB,WACI,OACI,8BACI,sBAAKV,UAAU,cAAf,UACI,cAAC,IAAD,CACIc,GAAIN,KAAKX,MAAMY,KAAK,WAAW,IAC/BT,UAAU,kBAFd,sBAKA,oBAAIA,UAAU,QAAd,SACKQ,KAAKO,2B,GA/BTd,IAAMC,WA2CZC,mBAJf,YACI,MAAO,CAACM,KADoB,EAANA,QAIXN,CAA0BE,GCrC1BW,EATD,WACV,OACI,sBAAKL,MAAO,CAACM,UAAU,UAAvB,UACI,kDADJ,uBCIFC,EAAU,kBAAI,4CACdC,EAAU,kBAAI,4CAGdC,E,uKAEF,WACIZ,KAAKX,MAAMhB,c,oBAGf,WACI,OACI,qBAAKmB,UAAU,YAAf,SACI,cAAC,IAAD,UACI,gCACI,cAAC,EAAD,IACA,cAAC,IAAD,CAAOqB,KAAK,IAAIC,OAAK,EAACC,UAAWP,IACjC,cAAC,IAAD,CAAOK,KAAK,WAAWC,OAAK,EAACC,UAAWL,IACxC,cAAC,IAAD,CAAOG,KAAK,eAAeE,UAAWJ,e,GAd5ClB,IAAMC,WAsBTC,cAAQ,KAAMC,EAAdD,CAAwBiB,GC/BxBI,kBAAgB,CAC3Bf,KCFW,WAA0C,IAApBgB,EAAmB,uDAAb,KAAMC,EAAO,uCACpD,OAAOA,EAAOvC,MACV,KAAKP,EACD,OAAO8C,EAAOtC,UAAW,EAC7B,QACI,OAAOqC,MCIbE,EAAMC,YAAYC,EAAU,GAAIC,YAAgBC,MAGtDC,IAASC,OACT,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACI,cAAC,EAAD,MAEJO,SAASC,cAAc,UAGvB7B,QAAQC,IAAI,gBAAiBR,+GAC7BO,QAAQC,IAAI,aAAcR,gB","file":"static/js/main.9d7fb4d4.chunk.js","sourcesContent":["export const FETCH_USER='fetch_user';","import axios from 'axios';\r\nimport {FETCH_USER} from './types';\r\n\r\nexport const fetchUser= () => async dispatch=>{\r\n    const res=await axios.get('/api/current_user');\r\n\r\n    dispatch({type:FETCH_USER, payload:res.data});\r\n};\r\n\r\nexport const handleToken=token=>async dispatch=>{\r\n    const res=await axios.post('/api/stripe', token);\r\n\r\n    dispatch({type:FETCH_USER, payload:res.data});\r\n};","import React from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nclass Payments extends React.Component{\r\n    render(){\r\n        return(\r\n            <StripeCheckout\r\n                name=\"Emailmar\"\r\n                description=\"$5 for 5 email credits\"\r\n                amount={500}\r\n                token={token=>this.props.handleToken(token)} // submit callback\r\n                stripeKey={process.env.REACT_APP_STRIPE_KEY}\r\n            >\r\n                <button className=\"btn\">\r\n                    Add Credits\r\n                </button>\r\n            </StripeCheckout>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null,actions)(Payments);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport Payments from './Payments';\r\n\r\nclass Header extends React.Component{\r\n    renderContent(){\r\n        console.log(this.props);\r\n        switch(this.props.auth){\r\n            case null:\r\n                return;\r\n            case false:\r\n                return (\r\n                    <li>\r\n                        <a href=\"/auth/google\">Login with Google</a>\r\n                    </li>\r\n                );\r\n            default:\r\n                return [\r\n                <li key=\"1\"><Payments/></li>,\r\n                <li key=\"3\" style={{margin: '0 15px'}}>Credits: {this.props.auth.credits}</li>,\r\n                <li key=\"2\"><a href=\"/api/logout\">Logout</a></li>\r\n            ];\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <nav>\r\n                <div className=\"nav-wrapper\">\r\n                    <Link \r\n                        to={this.props.auth?\"/surveys\":\"/\"} \r\n                        className=\"left brand-logo\">\r\n                        Emailmar\r\n                    </Link>\r\n                    <ul className=\"right\">\r\n                        {this.renderContent()}\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({auth}){\r\n    return {auth};\r\n};\r\n\r\nexport default connect(mapStateToProps) (Header);","import React from 'react';\r\n\r\nconst Landing=()=>{\r\n    return(\r\n        <div style={{textAlign:'center'}}>\r\n            <h1>Emailmar Landing</h1>\r\n            Collect feedback\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Landing;","import React from 'react';\r\nimport {BrowserRouter, Route} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nimport Header from '../components/Header';\r\nimport Landing from '../components/Landing';\r\n\r\nconst Dashboard=()=><h2>Dashboard</h2>\r\nconst SurveyNew=()=><h2>SurveyNew</h2>\r\n\r\n\r\nclass App extends React.Component{\r\n\r\n    componentDidMount(){\r\n        this.props.fetchUser();\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\">\r\n                <BrowserRouter>\r\n                    <div>\r\n                        <Header/>\r\n                        <Route path=\"/\" exact component={Landing}/>\r\n                        <Route path=\"/surveys\" exact component={Dashboard}/>\r\n                        <Route path=\"/surveys/new\" component={SurveyNew}/>\r\n                    </div>\r\n                </BrowserRouter>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default connect(null, actions) (App);","import {combineReducers} from 'redux';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n    auth:authReducer\r\n});","import {FETCH_USER} from '../actions/types';\r\n\r\nexport default function authReducer (state=null, action){\r\n    switch(action.type){\r\n        case FETCH_USER:\r\n            return action.payload || false;\r\n        default:\r\n            return state;\r\n    }\r\n}","import 'materialize-css/dist/css/materialize.min.css'\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store=createStore(reducers, {}, applyMiddleware(reduxThunk));\r\n\r\n\r\nReactDOM.render(\r\n<Provider store={store}>\r\n    <App/>\r\n</Provider>,\r\ndocument.querySelector('#root')\r\n);\r\n\r\nconsole.log('STRIPE KEY IS', process.env.REACT_APP_STRIPE_KEY);\r\nconsole.log('OUR ENV IS', process.env.NODE_ENV);"],"sourceRoot":""}